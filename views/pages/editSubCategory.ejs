<%- include('../partials/header') %>
  <!-- ============================================================== -->
  <!-- End Left Sidebar - style you can find in sidebar.scss  -->
  <!-- ============================================================== -->
  <!-- ============================================================== -->
  <!-- Page wrapper  -->
  <!-- ============================================================== -->
  <div class="page-wrapper bg-dark text-white" style="height: 100vh;">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="page-breadcrumb">
      <div class="row">
        <div class="col-12 d-flex no-block align-items-center">
          <h4 class="page-title">Form Basic</h4>
          <div class="ms-auto text-end">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">
                  Edit SubCategory
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Container fluid  -->
    <!-- ============================================================== -->
    <div class="container-fluid">
      <!-- ============================================================== -->
      <!-- Start Page Content -->
      <!-- ============================================================== -->
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="form-container">
            <form class="form" method="post" action="" enctype="multipart/form-data">
              <label class="custum-file-upload" for="file" style="height: 250px; width: 100%;">
                <div class="icon">
                  <img src="/<%=Subcategory.image%>" alt="" style="height: 100px;">
                </div>
                <div class="text">
                  <span>Click to upload image</span>
                </div>
                <input type="file" id="file" name="image">
              </label>

              <div class="form-group">
                <label for="title">Name</label>
                <input type="text" id="title" name="name" value="<%= Subcategory.name %>" required>
              </div>

              <div class="form-group">
                <label for="title">Category</label>
                <select name="category" id="" class="form-select bg-dark text-white">
  <option value="" disabled>-- Select Category --</option>
  <% 
    // normalize current category id to string for comparison
    const currentCategoryId = Subcategory && Subcategory.category
      ? (Subcategory.category._id ? Subcategory.category._id.toString() : Subcategory.category.toString())
      : '';
    categories.forEach((category) => {
      const catId = (category._id ? category._id.toString() : (category.id ? category.id.toString() : ''));
  %>
    <option value="<%= catId %>" <%= catId === currentCategoryId ? 'selected' : '' %>>
      <%= category.name %>
    </option>
  <% }) %>
</select>
              </div>
              <button class="form-submit-btn w-100" type="submit">Submit</button>
            </form>
          </div>
        </div>
        <!-- editor -->

        <!-- ============================================================== -->
        <!-- End PAge Content -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Right sidebar -->
        <!-- ============================================================== -->
        <!-- .right-sidebar -->
        <!-- ============================================================== -->
        <!-- End Right sidebar -->
        <!-- ============================================================== -->
      </div>
      <!-- ============================================================== -->
      <!-- End Container fluid  -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- footer -->
      <!-- ============================================================== -->
      <%- include('../partials/footer') %>